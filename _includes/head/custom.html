<!-- start custom head snippets -->

<!-- insert favicons. use https://realfavicongenerator.net/ -->
<link rel="shortcut icon" href="/favicon.ico">
<link rel="apple-touch-icon" sizes="180x180" href="/apple-touch-icon.png">
<link rel="icon" type="image/png" sizes="32x32" href="/favicon-32x32.png">
<link rel="icon" type="image/png" sizes="16x16" href="/favicon-16x16.png">
<link rel="manifest" href="/site.webmanifest">
<link rel="mask-icon" href="/safari-pinned-tab.svg" color="#5bbad5">
<meta name="msapplication-TileColor" content="#b91d47">
<meta name="theme-color" content="#ffffff">

<!-- Google AdSense -->
{% if jekyll.environment == "production" %}
<script data-ad-client="ca-pub-9480069633849139" async src="https://pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
{% endif %}

<!-- MS Clarity -->
<!-- Clarity tracking code for https://seungwubaek.github.io/ -->
<!-- Only works on jekyll.environment == "production" -->
{% if jekyll.environment == "production" %}
<!-- MS Clarity Disabled (2021. 05. 25)
<script>
(function(c,l,a,r,i,t,y){
    c[a]=c[a]||function(){(c[a].q=c[a].q||[]).push(arguments)};
    t=l.createElement(r);t.async=1;t.src="https://www.clarity.ms/tag/"+i;
    y=l.getElementsByTagName(r)[0];y.parentNode.insertBefore(t,y);
})(window, document, "clarity", "script", "4xsnvnetx1");
</script>
-->
{% endif %}

<!-- Fonts -->
{% include fonts/comic-neue.html %}
{% include fonts/noto-sans-kr.html %}

<!-- MathJax -->
<script>
function readyMathJax () {
  var mjxs = $('.MathJax');
  mjxs.each(function(i, mjx){
    $mjx = $(mjx);  // mathjax loading이 비동기라서 selection이 성공했다 실패했다 왔다갔다 하는 것 같다.
    var p = $mjx.parent('p');
    $(p).css({
      'overflow-x': 'auto',
    });
    // [Tip] 위 p Element에 추가하면 좋을것 같은 css
    // 'word-break': 'break-all'
    //     긴 math 한 줄이라면 'overflow-x' css 만으로도 처리 가능하지만
    //     한 줄에 긴 math와 string이 같이 붙었을때, math는 scroll bar가 붙으면 되지만
    //     string은 screen width를 넘으면 scroll bar가 붙을게 아니라 line break가 이루어지는게 맞다
    //     그러므로 'word-break' css를 사용하면 좋을 것 같다.
    //     그러나 애초에 한 줄 안에 긴 math와 string이 같이 올 만큼 한 줄이 길어지면 포스트 모양이 이쁘지 않으므로
    //     이 css를 사용하기 보다는 포스트 작성 단계에서 적절한 위치에서 수동으로 line break를 추가하는 것이
    //     더 나을 것 같으므로 보류한다.
  });
}
MathJax = {
  startup: {
    // MathJax 스크립트는 비동기적으로 로드되므로 공식적인 MathJax Configuration 뿐만 아니라
    // document.ready() 에서도 그 비동기의 완료를 확신할 수 없다. (promise 객체 조차 제대로 생성됐을지 알 수 없음)
    // 따라서 아래와 같이 처리한다.
    // ref. https://stackoverflow.com/questions/60154233/event-when-typesetting-is-done-mathjax-3
    pageReady() {
      return MathJax.startup.defaultPageReady().then(function() {
        readyMathJax();
      });
    }
  }
}
</script>
<script type="text/javascript" id="MathJax-script" async
  src="https://cdn.jsdelivr.net/npm/mathjax@3/es5/tex-mml-chtml.js">
</script>

<!-- end custom head snippets -->
